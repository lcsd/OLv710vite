"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4600],{7213:function(t,n,e){var o=e(1055),a=e(824),r=e(2893),s=e(1802),i=e(4469),u=e(1940),c=e(5117);const h=new i.Z({url:"https://{a-d}.tiles.mapbox.com/v3/aj.sf-dem/{z}/{x}/{y}.png",crossOrigin:"anonymous"}),l=new u.ZP({sources:[h],operationType:"image",operation:function(t,n){const e=t[0],o=e.width,a=e.height,r=e.data,s=new Uint8ClampedArray(r.length),i=2*n.resolution,u=o-1,c=a-1,h=[0,0,0,0],l=2*Math.PI,m=Math.PI/2,d=Math.PI*n.sunEl/180,f=Math.PI*n.sunAz/180,p=Math.cos(d),v=Math.sin(d);let w,M,g,Z,y,x,E,I,P,b,k,z,A,C,T;function B(t){return t[0]+2*t[1]+3*t[2]}for(M=0;M<=c;++M)for(y=0===M?0:M-1,x=M===c?c:M+1,w=0;w<=u;++w)g=0===w?0:w-1,Z=w===u?u:w+1,E=4*(M*o+g),h[0]=r[E],h[1]=r[E+1],h[2]=r[E+2],h[3]=r[E+3],I=n.vert*B(h),E=4*(M*o+Z),h[0]=r[E],h[1]=r[E+1],h[2]=r[E+2],h[3]=r[E+3],P=n.vert*B(h),b=(P-I)/i,E=4*(y*o+w),h[0]=r[E],h[1]=r[E+1],h[2]=r[E+2],h[3]=r[E+3],I=n.vert*B(h),E=4*(x*o+w),h[0]=r[E],h[1]=r[E+1],h[2]=r[E+2],h[3]=r[E+3],P=n.vert*B(h),k=(P-I)/i,z=Math.atan(Math.sqrt(b*b+k*k)),A=Math.atan2(k,-b),A=A<0?m-A:A>m?l-A+m:m-A,C=v*Math.cos(z)+p*Math.sin(z)*Math.cos(f-A),E=4*(M*o+w),T=255*C,s[E]=T,s[E+1]=T,s[E+2]=T,s[E+3]=r[E+3];return{data:s,width:o,height:a}}}),m=(new o.Z({target:"map",layers:[new r.Z({source:new c.Z}),new s.Z({opacity:.3,source:l})],view:new a.ZP({extent:[-13675026,4439648,-13580856,4580292],center:[-13615645,4497969],minZoom:10,maxZoom:16,zoom:13})}),{});["vert","sunEl","sunAz"].forEach((function(t){const n=document.getElementById(t),e=document.getElementById(t+"Out");n.addEventListener("input",(function(){e.innerText=n.value,l.changed()})),e.innerText=n.value,m[t]=n})),l.on("beforeoperations",(function(t){const n=t.data;n.resolution=t.resolution;for(const t in m)n[t]=Number(m[t].value)}))}},function(t){var n;n=7213,t(t.s=n)}]);
//# sourceMappingURL=shaded-relief.js.map