"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9159],{5690:function(e,t,r){var s=r(4944),n=r(6148),a=r(7367),l=r(1990);class o extends n.Z{constructor(e){super(),e=e||{},this.featureNS_="http://mapserver.gis.umn.edu/mapserver",this.gmlFormat_=new s.Z,this.layers_=e.layers?e.layers:null}getLayers(){return this.layers_}setLayers(e){this.layers_=e}readFeatures_(e,t){e.setAttribute("namespaceURI",this.featureNS_);const r=e.localName;let s=[];if(0===e.childNodes.length)return s;if("msGMLOutput"==r)for(let r=0,n=e.childNodes.length;r<n;r++){const n=e.childNodes[r];if(n.nodeType!==Node.ELEMENT_NODE)continue;const o=n,u=t[0],i="_layer",c=o.localName.replace(i,"");if(this.layers_&&!this.layers_.includes(c))continue;const h=c+"_feature";u.featureType=h,u.featureNS=this.featureNS_;const m={};m[h]=(0,l.Ei)(this.gmlFormat_.readFeatureElement,this.gmlFormat_);const d=(0,l.C5)([u.featureNS,null],m);o.setAttribute("namespaceURI",this.featureNS_);const f=(0,l.O)([],d,o,t,this.gmlFormat_);f&&(0,a.l7)(s,f)}if("FeatureCollection"==r){const t=(0,l.O)([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,e,[{}],this.gmlFormat_);t&&(s=t)}return s}readFeaturesFromNode(e,t){const r={};return t&&Object.assign(r,this.getReadOptions(e,t)),this.readFeatures_(e,[r])}}var u=o;fetch("data/wmsgetfeatureinfo/osm-restaurant-hotel.xml").then((function(e){return e.text()})).then((function(e){const t=(new u).readFeatures(e);document.getElementById("all").innerText=t.length.toString();const r=new u({layers:["hotel"]}).readFeatures(e);document.getElementById("hotel").innerText=r.length.toString();const s=new u({layers:["restaurant"]}).readFeatures(e);document.getElementById("restaurant").innerText=s.length.toString()}))}},function(e){var t;t=5690,e(e.s=t)}]);
//# sourceMappingURL=getfeatureinfo-layers.js.map