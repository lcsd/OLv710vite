{"version":3,"file":"geographic.js","mappings":"sLAMA,E,QAAA,MAEA,MAAMA,EAAQ,EAAE,IAAK,IAEfC,EAAQ,IAAI,IAAMD,GAElBE,EAAM,IAAI,IAAI,CAClBC,OAAQ,MACRC,KAAM,IAAI,KAAK,CACbC,OAAQL,EACRM,KAAM,IAERC,OAAQ,CACN,IAAI,IAAU,CACZC,OAAQ,IAAI,MAEd,IAAI,IAAY,CACdA,OAAQ,IAAI,IAAa,CACvBC,SAAU,CAAC,IAAI,IAAQR,MAEzBS,MAAO,CACL,gBAAiB,EACjB,oBAAqB,YAMvBC,EAAUC,SAASC,eAAe,SAElCC,EAAQ,IAAI,IAAQ,CACxBH,QAASA,EACTI,WAAW,IAIb,SAASC,EAAiBC,GACxB,MAAO,6DAGqBA,EAAW,GAAGC,QAAQ,6CACtBD,EAAW,GAAGC,QAAQ,4CAGpD,CAVAhB,EAAIiB,WAAWL,GAYf,MAAMM,EAAOR,SAASC,eAAe,QAOrC,IAAIQ,EANJnB,EAAIoB,GAAG,WAAW,WAChB,MACMjB,EADOH,EAAIqB,UACGC,YACpBJ,EAAKK,UAAYT,EAAiBX,EACpC,IAGAH,EAAIoB,GAAG,SAAS,SAAUI,GACpBL,IACFA,EAAQM,UACRN,OAAUO,GAEZ,MAAMC,EAAU3B,EAAI4B,mBAAmBJ,EAAMK,OAAO,GACpD,IAAKF,EACH,OAEF,MAAMZ,EAAaY,EAAQG,cAAcC,iBACzCnB,EAAMoB,YAAY,CAChBjB,EAAW,GAA6C,IAAxCkB,KAAKC,MAAMV,EAAMT,WAAW,GAAK,KACjDA,EAAW,KAGbI,EAAU,IAAIgB,UAAUC,QAAQ3B,EAAS,CACvC4B,UAAW5B,EAAQ6B,cACnBC,QAASzB,EAAiBC,GAC1ByB,MAAM,EACNC,OAAQ,CAAC,EAAG,IACZC,UAAW,MACXC,UAAU,IAEZxB,EAAQyB,MACV,IAEA5C,EAAIoB,GAAG,eAAe,SAAUI,GAC9B,MAAMqB,EAAO7C,EAAI8C,kBAAkBtB,EAAMK,OAAS,UAAY,UAC9D7B,EAAI+C,cAAcvC,MAAMwC,OAASH,CACnC,G","sources":["webpack:///./geographic.js"],"sourcesContent":["import {Feature, Map, Overlay, View} from '../src/ol/index.js';\nimport {OSM, Vector as VectorSource} from '../src/ol/source.js';\nimport {Point} from '../src/ol/geom.js';\nimport {Tile as TileLayer, Vector as VectorLayer} from '../src/ol/layer.js';\nimport {useGeographic} from '../src/ol/proj.js';\n\nuseGeographic();\n\nconst place = [-110, 45];\n\nconst point = new Point(place);\n\nconst map = new Map({\n  target: 'map',\n  view: new View({\n    center: place,\n    zoom: 8,\n  }),\n  layers: [\n    new TileLayer({\n      source: new OSM(),\n    }),\n    new VectorLayer({\n      source: new VectorSource({\n        features: [new Feature(point)],\n      }),\n      style: {\n        'circle-radius': 9,\n        'circle-fill-color': 'red',\n      },\n    }),\n  ],\n});\n\nconst element = document.getElementById('popup');\n\nconst popup = new Overlay({\n  element: element,\n  stopEvent: false,\n});\nmap.addOverlay(popup);\n\nfunction formatCoordinate(coordinate) {\n  return `\n    <table>\n      <tbody>\n        <tr><th>lon</th><td>${coordinate[0].toFixed(2)}</td></tr>\n        <tr><th>lat</th><td>${coordinate[1].toFixed(2)}</td></tr>\n      </tbody>\n    </table>`;\n}\n\nconst info = document.getElementById('info');\nmap.on('moveend', function () {\n  const view = map.getView();\n  const center = view.getCenter();\n  info.innerHTML = formatCoordinate(center);\n});\n\nlet popover;\nmap.on('click', function (event) {\n  if (popover) {\n    popover.dispose();\n    popover = undefined;\n  }\n  const feature = map.getFeaturesAtPixel(event.pixel)[0];\n  if (!feature) {\n    return;\n  }\n  const coordinate = feature.getGeometry().getCoordinates();\n  popup.setPosition([\n    coordinate[0] + Math.round(event.coordinate[0] / 360) * 360,\n    coordinate[1],\n  ]);\n\n  popover = new bootstrap.Popover(element, {\n    container: element.parentElement,\n    content: formatCoordinate(coordinate),\n    html: true,\n    offset: [0, 20],\n    placement: 'top',\n    sanitize: false,\n  });\n  popover.show();\n});\n\nmap.on('pointermove', function (event) {\n  const type = map.hasFeatureAtPixel(event.pixel) ? 'pointer' : 'inherit';\n  map.getViewport().style.cursor = type;\n});\n"],"names":["place","point","map","target","view","center","zoom","layers","source","features","style","element","document","getElementById","popup","stopEvent","formatCoordinate","coordinate","toFixed","addOverlay","info","popover","on","getView","getCenter","innerHTML","event","dispose","undefined","feature","getFeaturesAtPixel","pixel","getGeometry","getCoordinates","setPosition","Math","round","bootstrap","Popover","container","parentElement","content","html","offset","placement","sanitize","show","type","hasFeatureAtPixel","getViewport","cursor"],"sourceRoot":""}