"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7069],{2257:function(e,t,n){var o=n(1055),r=n(824),a=n(677),l=n(5002),i=n(2776),c=n(4688),s=n(1976),g=n(9243),u=n(3279),w=n(9066),d=n(5925),f=n(7051),Z=n(5117),m=n(4711),b=n(2893),h=n(1733),p=n(8881);const y=document.getElementById("type"),x=document.getElementById("segments"),k=document.getElementById("clear"),P=new a.ZP({fill:new l.Z({color:"rgba(255, 255, 255, 0.2)"}),stroke:new i.Z({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new c.Z({radius:5,stroke:new i.Z({color:"rgba(0, 0, 0, 0.7)"}),fill:new l.Z({color:"rgba(255, 255, 255, 0.2)"})})}),v=new a.ZP({text:new s.Z({font:"14px Calibri,sans-serif",fill:new l.Z({color:"rgba(255, 255, 255, 1)"}),backgroundFill:new l.Z({color:"rgba(0, 0, 0, 0.7)"}),padding:[3,3,3,3],textBaseline:"bottom",offsetY:-15}),image:new g.Z({radius:8,points:3,angle:Math.PI,displacement:[0,10],fill:new l.Z({color:"rgba(0, 0, 0, 0.7)"})})}),C=new a.ZP({text:new s.Z({font:"12px Calibri,sans-serif",fill:new l.Z({color:"rgba(255, 255, 255, 1)"}),backgroundFill:new l.Z({color:"rgba(0, 0, 0, 0.4)"}),padding:[2,2,2,2],textAlign:"left",offsetX:15})}),I=new a.ZP({image:new c.Z({radius:5,stroke:new i.Z({color:"rgba(0, 0, 0, 0.7)"}),fill:new l.Z({color:"rgba(0, 0, 0, 0.4)"})}),text:new s.Z({text:"Drag to modify",font:"12px Calibri,sans-serif",fill:new l.Z({color:"rgba(255, 255, 255, 1)"}),backgroundFill:new l.Z({color:"rgba(0, 0, 0, 0.7)"}),padding:[2,2,2,2],textAlign:"left",offsetX:15})}),A=new a.ZP({text:new s.Z({font:"12px Calibri,sans-serif",fill:new l.Z({color:"rgba(255, 255, 255, 1)"}),backgroundFill:new l.Z({color:"rgba(0, 0, 0, 0.4)"}),padding:[2,2,2,2],textBaseline:"bottom",offsetY:-12}),image:new g.Z({radius:6,points:3,angle:Math.PI,displacement:[0,8],fill:new l.Z({color:"rgba(0, 0, 0, 0.4)"})})}),T=[A],M=function(e){const t=(0,p.xA)(e);let n;return n=t>100?Math.round(t/1e3*100)/100+" km":Math.round(100*t)/100+" m",n},B=new b.Z({source:new Z.Z}),F=new m.Z,G=new u.Z({source:F,style:I});let E;function S(e,t,n,o){const r=[P],a=e.getGeometry(),l=a.getType();let i,c,s;if(n&&n!==l||("Polygon"===l?(i=a.getInteriorPoint(),c=function(e){const t=(0,p.bg)(e);let n;return n=t>1e4?Math.round(t/1e6*100)/100+" km²":Math.round(100*t)/100+" m²",n}(a),s=new d.Z(a.getCoordinates()[0])):"LineString"===l&&(i=new f.Z(a.getLastCoordinate()),c=M(a),s=a)),t&&s){let e=0;s.forEachSegment((function(t,n){const o=new d.Z([t,n]),a=M(o);T.length-1<e&&T.push(A.clone());const l=new f.Z(o.getCoordinateAt(.5));T[e].setGeometry(l),T[e].getText().setText(a),r.push(T[e]),e++}))}return c&&(v.setGeometry(i),v.getText().setText(c),r.push(v)),o&&"Point"===l&&!G.getOverlay().getSource().getFeatures().length&&(E=a,C.getText().setText(o),r.push(C)),r}const D=new h.Z({source:F,style:function(e){return S(e,x.checked)}}),L=new o.Z({layers:[B,D],target:"map",view:new r.ZP({center:[-11e6,46e5],zoom:15})});let O;function X(){const e=y.value,t="Click to continue drawing the "+("Polygon"===e?"polygon":"line"),n="Click to start measuring";let o=n;O=new w.ZP({source:F,type:e,style:function(t){return S(t,x.checked,e,o)}}),O.on("drawstart",(function(){k.checked&&F.clear(),G.setActive(!1),o=t})),O.on("drawend",(function(){I.setGeometry(E),G.setActive(!0),L.once("pointermove",(function(){I.setGeometry()})),o=n})),G.setActive(!0),L.addInteraction(O)}L.addInteraction(G),y.onchange=function(){L.removeInteraction(O),X()},X(),x.onchange=function(){D.changed(),O.getOverlay().changed()}}},function(e){var t;t=2257,e(e.s=t)}]);
//# sourceMappingURL=measure-style.js.map