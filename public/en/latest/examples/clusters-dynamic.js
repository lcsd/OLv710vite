"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8087],{8234:function(e,t,n){var o=n(9619),r=n(4805),a=n(1055),s=n(824),i=n(5002),g=n(2776),l=n(4688),u=n(1652),c=n(677),w=n(1976),m=n(4711),f=n(8111),Z=n(4469),h=n(7051),p=n(5925),d=n(3814),y=n(1733),b=n(2893),x=n(6117),P=n(1625);const v=Math.PI/2,k=new i.Z({color:"rgba(255, 153, 0, 0.4)"}),C=new g.Z({color:"rgba(204, 85, 0, 1)",width:1.5}),M=new i.Z({color:"rgba(255, 153, 102, 0.3)"}),G=new i.Z({color:"rgba(255, 165, 0, 0.7)"}),E=new i.Z({color:"#fff"}),S=new g.Z({color:"rgba(0, 0, 0, 0.6)",width:3}),z=new l.Z({radius:14,fill:G}),I=new l.Z({radius:20,fill:M}),F=new u.Z({src:"data/icons/emoticon-cool.svg"}),j=new u.Z({src:"data/icons/emoticon-cool-outline.svg"});function T(e){return new c.ZP({geometry:e.getGeometry(),image:e.get("LEISTUNG")>5?F:j})}let V,B,D;function H(e,t){if(e!==V||t!==B)return;const n=e.get("features"),r=e.getGeometry().getCoordinates();return function(e,t,n){let o=28*(2+e)/(2*Math.PI);const r=2*Math.PI/e,a=[];let s;o=Math.max(o,35)*n;for(let n=0;n<e;++n)s=v+n*r,a.push([t[0]+o*Math.cos(s),t[1]+o*Math.sin(s)]);return a}(n.length,e.getGeometry().getCoordinates(),t).reduce(((e,t,a)=>{const s=new h.Z(t),i=new p.Z([r,t]);return e.unshift(new c.ZP({geometry:i,stroke:C})),e.push(T(new o.Z({...n[a].getProperties(),geometry:s}))),e}),[])}function J(e){if(e!==D)return;const t=e.get("features").map((e=>e.getGeometry().getCoordinates()));return new c.ZP({geometry:new d.ZP([monotoneChainConvexHull(t)]),fill:k,stroke:C})}const L=new m.Z({format:new r.Z,url:"data/geojson/photovoltaic.json"}),N=new f.Z({attributions:'Data: <a href="https://www.data.gv.at/auftritte/?organisation=stadt-wien">Stadt Wien</a>',distance:35,source:L}),R=new y.Z({source:N,style:J}),U=new y.Z({source:N,style:function(e){const t=e.get("features").length;return t>1?[new c.ZP({image:I}),new c.ZP({image:z,text:new w.Z({text:t.toString(),fill:E,stroke:S})})]:T(e.get("features")[0])}}),W=new y.Z({source:N,style:H}),_=new b.Z({source:new Z.Z({attributions:'Base map: <a target="_blank" href="https://basemap.at/">basemap.at</a>',url:"https://maps{1-4}.wien.gv.at/basemap/bmapgrau/normal/google3857/{z}/{y}/{x}.png"})}),q=new a.Z({layers:[_,R,U,W],target:"map",view:new s.ZP({center:[0,0],zoom:2,maxZoom:19,extent:[...(0,P.mi)([16.1793,48.1124]),...(0,P.mi)([16.5559,48.313])],showFullExtent:!0})});q.on("pointermove",(e=>{U.getFeatures(e.pixel).then((e=>{e[0]!==D&&(D=e[0],R.setStyle(J),q.getTargetElement().style.cursor=D&&D.get("features").length>1?"pointer":"")}))})),q.on("click",(e=>{U.getFeatures(e.pixel).then((e=>{if(e.length>0){const t=e[0].get("features");if(t.length>1){const n=(0,x.lJ)();t.forEach((e=>(0,x.l7)(n,e.getGeometry().getExtent())));const o=q.getView(),r=q.getView().getResolution();o.getZoom()===o.getMaxZoom()||(0,x.dz)(n)<r&&(0,x.dz)(n)<r?(V=e[0],B=r,W.setStyle(H)):o.fit(n,{duration:500,padding:[50,50,50,50]})}}}))}))}},function(e){var t;t=8234,e(e.s=t)}]);
//# sourceMappingURL=clusters-dynamic.js.map